<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link href="../../../../../doc/style.css?colorTheme=Custom.OdoTheme" rel="stylesheet" type="text/css" media="all"></head><body><html><head><script>/*<![CDATA[*/</body></html>
</body></html>
document.observe("dom:loaded", function() {</body></html>
if(getCookie('recipeInfo') == 'hide')</body></html>
hideRecipeInfo();</body></html>
else</body></html>
showRecipeInfo();</body></html>
});</body></html>
/*]]>*/</script></head><body><div id="recipeInfo"><div class="box warningmessage"><p>If it is not explicitly told in following recipe, setting up services are described for <span class="wikilink"><a href="https://odo.lv/Recipes/UbuntuSetupSrv">Ubuntu <strong>16.04</strong> server</a></span>, but applications are described for <span class="wikilink"><a href="https://odo.lv/Recipes/UbuntuSetup">Ubuntu <strong>16.04</strong></a></span> and/or <span class="wikilink"><a href="https://odo.lv/Recipes/LubuntuSetup">Lubuntu <strong>16.04</strong></a></span> workstation. If you use different Ubuntu version or Linux distribution, settings as well as content, names and places of configuration files may be different!<br><a onclick="hideRecipeInfo()">Got it.</a></p></div></div><div id="showRecipeInfo" class="hidden memo"><p><a onclick="showRecipeInfo()">Show general information.</a></p></div><h1 id="H13.JDBC" class="wikigeneratedid wikigeneratedheader"><span>13. JDBC</span></h1><div><table class="noborder" width="100%"><tr><td><div><p> <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise12">Prev</a></span></p></div></td><td style="border: none; text-align: right;"><div><p> <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise14">Next</a></span></p></div></td></tr></table></div><p>  </p><p><strong>General steps</strong></p><ul><li><span class="wikilink"><a href="#HReviewtopic">Review topic</a></span></li><li><span class="wikilink"><a href="#HSetupMySQL">Set up MySQL</a></span></li><li><span class="wikilink"><a href="#HSetupdatabase">Set up database</a></span></li><li><span class="wikilink"><a href="#HConfiguredetailedMySQLlogging28Optional29">Configure detailed MySQL logging (Optional)</a></span></li><li><span class="wikilink"><a href="#HImplementactivity">Implement activity</a></span></li><li><span class="wikilink"><a href="#HExtraexercise">Extra exercise</a></span></li><li><span class="wikilink"><a href="#HErrorsolution">Error solution</a></span></li><li><span class="wikilink"><a href="#HAdditionalinfo">Additional info</a></span></li></ul><h2 id="HReviewtopic" class="wikigeneratedid wikigeneratedheader"><span>Review topic</span></h2><ol><li><div><p>Review presentation <span class="wikiinternallink"><a href="https://odo.lv/git/JTM/plain/doc/presentations/13_JDBC.odp">JDBC</a></span></p><video src="https://odo.lv/ftp/lectures/Java13.ogv" width="300" controls></body></html>
<a href="https://odo.lv/ftp/lectures/Java13.ogv">Java13.ogv</a></body></html>
</video><p>Practical exercise</p><video src="https://odo.lv/ftp/lectures/Javaa13.ogv" width="300" controls></body></html>
<a href="https://odo.lv/ftp/lectures/Javaa13.ogv">Javaa13.ogv</a></body></html>
</video></div></li></ol><h2 id="HSetupMySQL" class="wikigeneratedid wikigeneratedheader"><span>Set up MySQL</span></h2><ol><li><em>If necessary:</em><ol><li><div><p>To enable additional software reposoitories, run</p><div class="box"><div class="code">sudo mousepad /etc/apt/sources.list</div></div><p>and uncomment lines staring with <span class="wikimodel-verbatim"># deb...</span> (delete <span class="wikimodel-verbatim">#</span>)</p><div class="box warningmessage"><p>Do not uncomment <span class="wikimodel-verbatim"># deb cdrom...</span>, because then manager will look for installation disk!</p></div></div></li><li><div><p>To refresh info about repositories run command:</p><div class="box"><div class="code">sudo apt-get update</div></div></div></li></ol></li><li><div><p>To install <span class="wikilink"><a href="https://odo.lv/Recipes/MySQL">MySQL server</a></span>, run following command:</p><div class="box"><div class="code">sudo apt-get install mysql-server</div></div></div></li><li>Download MySQL Workbench installation file from <span class="wikiexternallink"><a href="https://dev.mysql.com/downloads/workbench/"><span class="wikigeneratedlinkcontent">https://dev.mysql.com/downloads/workbench/</span></a></span> for 64-bit Ubuntu 20.04</li><li>Open file and install it.</li></ol><h2 id="HSetupdatabase" class="wikigeneratedid wikigeneratedheader"><span>Set up database</span></h2><ol><li><div><p>Create new database user, by executing following commands in terminal (each line one by one!):</p><div class="box"><div class="code">sudo mysql<br>CREATE USER 'uXX'@'localhost' IDENTIFIED BY 'uXX';<br>FLUSH PRIVILEGES;<br>exit</div></div><p>where <strong>XX</strong> is your given number.</p></div></li><li><div><p>Create structure of the database, by executing following commands in terminal:</p><div class="box"><div class="code">cd ~/workspace/uXX/src/main/java/jtm/activity13/<br>sudo mysql<br>create database databaseXX;<br>GRANT ALL ON databaseXX.* TO 'uXX'@'localhost';<br>FLUSH PRIVILEGES;<br>exit<br>mysql -uuXX -puXX databaseXX &lt; database.sql</div></div><p>where <strong>XX</strong> is your given number.</p></div></li></ol><h2 id="HConfiguredetailedMySQLlogging28Optional29" class="wikigeneratedid wikigeneratedheader"><span>Configure detailed MySQL logging (Optional)</span></h2><p>To enable detailed logging on MySQL server:</p><ol><li><div><p>Open configuration file:</p><div class="box"><div class="code">sudo mousepad /etc/mysql/mysql.conf.d/mysqld.cnf</div></div></div></li><li><div><p>Change two lines to following (i.e. remove <span class="wikimodel-verbatim"># </span> from beginning of line):</p><div class="box"><div class="code">general_log_file        = /var/log/mysql/query.log<br>general_log             = 1</div></div></div></li><li><div><p>Restart mysql server:</p><div class="box"><div class="code">sudo systemctl restart mysql</div></div></div></li><li><div><p>To watch log in real time, run command:</p><div class="box"><div class="code">sudo tail -f /var/log/mysql/query.log</div></div></div></li></ol><h2 id="HImplementactivity" class="wikigeneratedid wikigeneratedheader"><span>Implement activity</span></h2><ol><li>Investigate <strong>jtm.activity13</strong> package</li><li>Implement class <strong>TeacherManager</strong> to pass unit tests</li></ol><h2 id="HExtraexercise" class="wikigeneratedid wikigeneratedheader"><span>Extra exercise</span></h2><ul><li><span class="wikilink"><a href="https://odo.lv/Training/JavaExerciseExtra08">Extra exercise 7: JPA</a></span></li></ul><h2 id="HErrorsolution" class="wikigeneratedid wikigeneratedheader"><span>Error solution</span></h2><ol><li><div><p>To check that server is running:</p><div class="box"><div class="code">ss -ntlp|grep 3306</div></div><p>should return:</p><div class="box"><div class="code">LISTEN    0         151              127.0.0.1:3306             0.0.0.0:*<br>LISTEN    0         70               127.0.0.1:33060            0.0.0.0:*</div></div></div></li><li><div><p>Check, that you can log into server, run MySQL console:</p><div class="box"><div class="code">mysql -uuXX -puXX</div></div><p>Then, inside MySQL console:</p><div class="box"><div class="code">show databases;</div></div><p>should return list of databases.</p><div class="box"><div class="code">exit</div></div></div></li></ol><div class="wikimodel-emptyline"></div><p>Look for more info in <span class="wikilink"><a href="https://odo.lv/Recipes/MySQL">MySQL</a></span> (in Latvian).</p><h2 id="HAdditionalinfo" class="wikigeneratedid"><span>Additional info</span></h2><p>In English</p><ul><li><span class="wikiexternallink"><a href="http://www.tutorialspoint.com/jdbc/jdbc_tutorial.pdf">JDBC tutorial</a></span> (PDF file)</li></ul><p>In Latvian</p><ul><li><span class="wikilink"><a href="https://odo.lv/Training/DatabasesLectures1#H4.lekcija">TCP/IP pamati</a></span></li><li><span class="wikilink"><a href="https://odo.lv/Training/DatabasesLectures2#H9.lekcija">Detalizēti par SQL</a></span></li><li><span class="wikilink"><a href="https://odo.lv/Training/Databases">Datu bāzu tehnoloģijas</a></span></li></ul><br>  </body></html></body></html>