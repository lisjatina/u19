<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link href="../../../../../doc/style.css?colorTheme=Custom.OdoTheme" rel="stylesheet" type="text/css" media="all"></head><body><html><head><script>/*<![CDATA[*/</body></html>
</body></html>
document.observe("dom:loaded", function() {</body></html>
if(getCookie('recipeInfo') == 'hide')</body></html>
hideRecipeInfo();</body></html>
else</body></html>
showRecipeInfo();</body></html>
});</body></html>
/*]]>*/</script></head><body><div id="recipeInfo"><div class="box warningmessage"><p>If it is not explicitly told in following recipe, setting up services are described for <span class="wikilink"><a href="https://odo.lv/Recipes/UbuntuSetupSrv">Ubuntu <strong>16.04</strong> server</a></span>, but applications are described for <span class="wikilink"><a href="https://odo.lv/Recipes/UbuntuSetup">Ubuntu <strong>16.04</strong></a></span> and/or <span class="wikilink"><a href="https://odo.lv/Recipes/LubuntuSetup">Lubuntu <strong>16.04</strong></a></span> workstation. If you use different Ubuntu version or Linux distribution, settings as well as content, names and places of configuration files may be different!<br><a onclick="hideRecipeInfo()">Got it.</a></p></div></div><div id="showRecipeInfo" class="hidden memo"><p><a onclick="showRecipeInfo()">Show general information.</a></p></div><h1 id="H3.1Gitsetup" class="wikigeneratedid wikigeneratedheader"><span>3.1 Git setup</span></h1><div><table class="noborder" width="100%"><tr><td><div><p> <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise03">Prev</a></span></p></div></td><td style="border: none; text-align: right;"><div><p> <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise04">Next</a></span></p></div></td></tr></table></div><p>  </p><p>If necessary, review <span class="wikiinternallink"><a href="https://odo.lv/git/JTM/plain/doc/presentations/18_VC.odp">Version control systems</a></span></p><p>and notes about practical exercise</p><video src="https://odo.lv/ftp/lectures/Javaa031.ogv" width="300" controls></body></html>
<a href="https://odo.lv/ftp/lectures/Javaa031.ogv">Javaa031.ogv</a></body></html>
</video><p><strong>Practical exercise</strong></p><ul><li><span class="wikilink"><a href="#HInstallgit">Install git</a></span></li><li><span class="wikilink"><a href="#HSetuserdata">Set user data</a></span></li><li><span class="wikilink"><a href="#HCreateGitrepositoryonserver">Create Git repository on server</a></span></li><li><span class="wikilink"><a href="#HCreateGitrepositoryinyourproject">Create Git repository in your project</a></span></li><li><span class="wikilink"><a href="#HCheckconfiguration">Check configuration</a></span></li><li><span class="wikilink"><a href="#HCommitandpushchanges">Commit and push changes</a></span></li><li><span class="wikilink"><a href="#HUpdatelocalrepositoryandpushchangestoremoterepository">Update local repository and push changes to remote repository</a></span></li><li><span class="wikilink"><a href="#HErrorsolutions">Error solutions</a></span><ul><li><span class="wikilink"><a href="#HConnectiontimeout">Connection timeout</a></span></li></ul></li><li><span class="wikilink"><a href="#HOptionaltasks">Optional tasks</a></span><ul><li><span class="wikilink"><a href="#HUseEgitplugin">Use Egit plugin</a></span></li><li><span class="wikilink"><a href="#HCloneyourprojectfromserver">Clone your project from server</a></span></li><li><span class="wikilink"><a href="#HUsekeyexchangeforSSHconnections">Use key exchange for SSH connections</a></span></li></ul></li><li><span class="wikilink"><a href="#HAdditionalinfo">Additional info</a></span></li></ul><div class="wikimodel-emptyline"></div><h2 id="HInstallgit" class="wikigeneratedid wikigeneratedheader"><span>Install git</span></h2><ol><li><div><p>(If it is not done already) install git client and meld comparison tools on your computer by entering commands:</p><div class="box"><div class="code">sudo apt-get install git</div></div></div></li><li><div><p>Install <span class="wikimodel-verbatim">meld</span> diff tool:</p><div class="box"><div class="code">sudo apt-get install meld</div></div></div></li></ol><h2 id="HSetuserdata" class="wikigeneratedid"><span>Set user data</span></h2><ol><li><div><p>Set user data for Git version metadata with commands:</p><div class="box"><div class="code">git config --global user.name &quot;Name Surname&quot;<br>git config --global user.email name.surname@example.com</div></div></div></li><li><div><p>Set default editor for commit notes etc. in git with command, e.g.:</p><div class="box"><div class="code">git config --global core.editor mousepad</div></div></div></li><li><div><p>Set <span class="wikimodel-verbatim">meld</span> as default merge and diff tool for git:</p><div class="box"><div class="code">git config --global merge.tool meld<br>git config --global diff.tool meld</div></div></div></li></ol><h2 id="HCreateGitrepositoryonserver" class="wikigeneratedid"><span>Create Git repository on server</span></h2><ol><li><div><p>Connect with SSH to the <span class="wikimodel-verbatim">bcserver</span> (get initial password from the teacher):</p><div class="box"><div class="code">ssh uXX@bcserver<br></div></div></div></li><li><div><p>Accept server key fingerprint:</p><div class="box"><div class="code">The authenticity of host 'bcserver (&lt;no hostip for proxy command&gt;)' can't be established.<br>ECDSA key fingerprint is SHA256:EfeSv9IS82KmbOHismH1JPkqC/j0fxvoe5GK1jR2KVY.<br>Are you sure you want to continue connecting (yes/no/[fingerprint])?</div></div><p>type <strong>yes</strong></p></div></li><li><div><p>Enter your initial password for the user:</p><div class="box"><div class="code">uXX@bcserver's password:</div></div><p>type your password and press <strong>Enter</strong></p><div class="box infomessage"><p>Don't be confused, that password is not shown as stars/circles/whatever. It is accepted without any visible feedback.</p></div></div></li><li><div><p>Change password for your user, by entering command on <span class="wikimodel-verbatim">bcserver</span>:</p><div class="box"><div class="code">passwd</div></div><p>and enter required input:</p><table class="noborder"><tr><td style="width:8em;"><div><div class="box"><div class="code">Current password:<br>New password:<br>Retype new password:</div></div></div></td><td style="padding-top:12px;"><div><p><strong>initial password given to you by teacher</strong><br><strong>your password</strong><br><strong>your password</strong></p></div></td></tr></table></div></li><li><div><p>Create remote Git repository:</p><div class="box"><div class="code">mkdir uXX<br>cd uXX<br>git --bare init<br>exit</div></div><div class="box warningmessage"><p><strong>uXX</strong> should be replaced with your actual user/project name <em>also in all places below</em>!</p></div></div></li></ol><h2 id="HCreateGitrepositoryinyourproject" class="wikigeneratedid"><span>Create Git repository in your project</span></h2><ol><li><div><p>Go to your project:</p><div class="box"><div class="code">cd ~/workspace/uXX</div></div></div></li><li><div><p>Initialize local Git repository for the project:</p><div class="box"><div class="code">git init</div></div></div></li><li><div><p>Add remote repository to the project:</p><div class="box"><div class="code">git remote add origin ssh://uXX@bcserver/home/uXX/uXX</div></div><div class="box warningmessage"><p>Notice that path to repository has two <strong>uXX/uXX</strong> (subfolder with the same name as its parent folder).</p></div><p><strong>or</strong>, if you want to change settings, open <span class="wikimodel-verbatim">.git/config</span> file in the project and change settings:</p><div class="box"><div class="code">...<br>[remote &quot;origin&quot;]<br>	url = ssh://uXX@bcserver/home/uXX/uXX<br>...</div></div></div></li><li><div><p>Create <span class="wikimodel-verbatim">.gitignore</span> file in your project folder with following content:</p><div class="box"><div class="code">.classpath<br>.idea/**<br>*.iml<br>**/.~lock*<br>*.log<br>logs/**<br>.metadata/**<br>.project<br>.settings/**<br>target/**<br>wbp-meta/**</div></div></div></li></ol><h2 id="HCheckconfiguration" class="wikigeneratedid"><span>Check configuration</span></h2><p><img src="https://odo.lv/xwiki/resources/icons/silk/help.png?cache-version=1617819922000" class="wikimodel-freestanding" alt="help"> Run <strong>GitTest1</strong> unit test in package <span class="wikimodel-verbatim">jtm.activity031</span> and check results.</p><h2 id="HCommitandpushchanges" class="wikigeneratedid"><span>Commit and push changes</span></h2><p>All changes can be commited to local repository and pushed to remote repository using following commands<sup><span id="x_footnote_ref_1" class="footnoteRef"><span class="wikilink"><a href="#x_footnote_1">1</a></span></span></sup>:</p><div class="box"><div class="code">cd ~/workspace/uXX<br>git add -A<br>git commit -m &quot;Put yor comment here&quot;<br>git push -u origin master</div></div><div class="wikimodel-emptyline"></div><h2 id="HUpdatelocalrepositoryandpushchangestoremoterepository" class="wikigeneratedid"><span>Update local repository and push changes to remote repository</span></h2><ol><li>Use <span class="wikimodel-verbatim">git status</span> to see, what is changed comparing to last commit</li><li><div><p>Add all changes to your local repository and push them to remote repository:</p><div class="box"><div class="code">cd ~/workspace/uXX<br>git pull<br>git add -A<br>git commit -m &quot;Your message here&quot;<br>git push</div></div></div></li><li><div><p>If you have local git repository with different history than remote project, and know, that local project is OK, then you can forcefully push your project to the server by adding <span class="wikimodel-verbatim">-f</span> switch, e.g.:</p><div class="box"><div class="code">git push -f origin master</div></div></div></li><li><div><p>To ensure that all your history from local repository is pushed to remote repository, run command:</p><div class="box"><div class="code">git status</div></div><p>and chek that it returns lines:</p><div class="box"><div class="code">Your branch is up to date with 'origin/master'.<br><br>nothing to commit, working tree clean</div></div></div></li></ol><h2 id="HErrorsolutions" class="wikigeneratedid"><span>Error solutions</span></h2><h3 id="HConnectiontimeout" class="wikigeneratedid"><span>Connection timeout</span></h3><p>If you have connection timeout:</p><ol><li><div><p>Check, what happens when you run command in terminal:</p><div class="box"><div class="code">ping bcserver</div></div><p>It should return something like this:</p><div class="box"><div class="code">PING bcserver (3.123.45.45) 56(84) bytes of data.<br>64 bytes from tools (3.123.45.45): icmp_seq=1 ttl=43 time=36.5 ms<br>64 bytes from tools (3.123.45.45): icmp_seq=2 ttl=43 time=37.6 ms<br>...</div></div><p>Stop it by pressing <strong>Ctrl+C</strong></p></div></li><li>Open <span class="wikiexternallink"><a class="wikimodel-freestanding" href="https://www.whatismyip.com/"><span class="wikigeneratedlinkcontent">https://www.whatismyip.com/</span></a></span> and check what is public IP address for your computer. Notify teacher (say it and write IP address in Zoom chat).</li><li>Wait while teacher will disban your computer from blacklist.</li></ol><div class="wikimodel-emptyline"></div><h2 id="HOptionaltasks" class="wikigeneratedid"><span>Optional tasks</span></h2><h3 id="HUseEgitplugin" class="wikigeneratedid"><span>Use Egit plugin</span></h3><ol><li>If your Eclipse doesn't have it already installed, install <span class="wikilink"><a href="https://odo.lv/Recipes/Egit">Egit plugin</a></span> for Eclipse</li><li>Learn <span class="wikiexternallink"><a href="https://eclipsesource.com/blogs/tutorials/egit-tutorial/">How to use Egit plugin</a></span></li><li>Learn how to use <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise18">Git branches and merging tools</a></span></li></ol><h3 id="HCloneyourprojectfromserver" class="wikigeneratedid"><span>Clone your project from server</span></h3><ol><li><div><p>Clone project from server</p><div class="box"><div class="code">cd ~/workspace<br>git clone ssh://uXX@bcserver/home/uXX/uXX uXX1</div></div><p>where <strong>uXX</strong> is code of your project, and <strong>uXX1</strong> is different name of your project.</p></div></li></ol><h3 id="HUsekeyexchangeforSSHconnections" class="wikigeneratedid"><span>Use key exchange for SSH connections</span></h3><p>If you are tired of writing password for each push, you can enable SSH key exchange by following these instructions:</p><ul><li><span class="wikilink"><a href="https://odo.lv/Recipes/SSHNoPassword">In Latvian</a></span></li><li><span class="wikiexternallink"><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys--2">In English</a></span></li></ul><h2 id="HAdditionalinfo" class="wikigeneratedid"><span>Additional info</span></h2><ul><li><span class="wikiexternallink"><a href="https://jwiegley.github.io/git-from-the-bottom-up/">Git from the Bottom Up</a></span></li><li><span class="wikiexternallink"><a href="http://git-scm.com/documentation">Git documentation</a></span></li><li><span class="wikilink"><a href="https://odo.lv/Recipes/Git">Git versiju kontrole</a></span></li></ul><ol class="footnotes"><li><span class="wikilink"><a id="x_footnote_1" class="footnoteBackRef" href="#x_footnote_ref_1">^</a></span> <span class="wikimodel-verbatim">origin</span> is remote repository name, but <span class="wikimodel-verbatim">master</span> is branch mapping (shortened from <span class="wikimodel-verbatim">master:master</span>) from local to remote repository<br><span class="wikimodel-verbatim">-u</span> switch will set master branch of local repository as a default for pushing to remote repository, so after that simple <span class="wikimodel-verbatim">git push</span> and <span class="wikimodel-verbatim">git pull</span> can be used.</li></ol><br>  </body></html></body></html>