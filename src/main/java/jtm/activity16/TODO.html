<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link href="../../../../../doc/style.css?colorTheme=Custom.OdoTheme" rel="stylesheet" type="text/css" media="all"></head><body><html><head><script>/*<![CDATA[*/</body></html>
</body></html>
document.observe("dom:loaded", function() {</body></html>
if(getCookie('recipeInfo') == 'hide')</body></html>
hideRecipeInfo();</body></html>
else</body></html>
showRecipeInfo();</body></html>
});</body></html>
/*]]>*/</script></head><body><div id="recipeInfo"><div class="box warningmessage"><p>If it is not explicitly told in following recipe, setting up services are described for <span class="wikilink"><a href="https://odo.lv/Recipes/UbuntuSetupSrv">Ubuntu <strong>16.04</strong> server</a></span>, but applications are described for <span class="wikilink"><a href="https://odo.lv/Recipes/UbuntuSetup">Ubuntu <strong>16.04</strong></a></span> and/or <span class="wikilink"><a href="https://odo.lv/Recipes/LubuntuSetup">Lubuntu <strong>16.04</strong></a></span> workstation. If you use different Ubuntu version or Linux distribution, settings as well as content, names and places of configuration files may be different!<br><a onclick="hideRecipeInfo()">Got it.</a></p></div></div><div id="showRecipeInfo" class="hidden memo"><p><a onclick="showRecipeInfo()">Show general information.</a></p></div><h1 id="H16.GUIApplication" class="wikigeneratedid wikigeneratedheader"><span>16. GUI Application</span></h1><div><table class="noborder" width="100%"><tr><td><div><p> <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise15">Prev</a></span></p></div></td><td style="border: none; text-align: right;"><div><p> <span class="wikilink"><a href="https://odo.lv/Training/JavaExercise17">Next</a></span></p></div></td></tr></table></div><p></p><p><strong>Tasks</strong></p><ul><li><span class="wikilink"><a href="#HImplementcolorsliderGUIapplication">Implement color slider GUI application</a></span></li><li><span class="wikilink"><a href="#HExportapplicationinexecutable2A.jarfile">Export application in executable *.jar file</a></span></li><li><span class="wikilink"><a href="#HMakejarfilesmaller">Make jar file smaller</a></span></li></ul><h2 id="HImplementcolorsliderGUIapplication" class="wikigeneratedid"><span>Implement color slider GUI application</span></h2><ol><li><div><p>Review presentation <span class="wikiinternallink"><a href="https://odo.lv/git/JTM/plain/doc/presentations/16_GUI.odp">Java Graphical Frameworks</a></span></p><video src="https://odo.lv/ftp/lectures/Java16.ogv" width="300" controls></body></html>
<a href="https://odo.lv/ftp/lectures/Java16.ogv">Java16.ogv</a></body></html>
</video></div></li><li>Install <span class="wikilink"><a href="https://odo.lv/Recipes/WindowBuilder">WindowBuilder</a></span> plugin for eclipse.</li><li>Investigate <strong>jtm.activity16</strong> package</li><li>Implement class <strong>ColorSlider</strong> to make color sliders changing test area background color</li></ol><h2 id="HExportapplicationinexecutable2A.jarfile" class="wikigeneratedid"><span>Export application in executable *.jar file</span></h2><ol><li>Export <strong>ColorSlider</strong> class as executable jar file. In Eclipse, do following:<ol><li>Right click on <strong>ColoSlider.java</strong> file in Package explorer, and select <strong>Export...</strong></li><li>Select <strong>Java — Runnable JAR file</strong>, and press <strong>Next</strong>,</li><li>In <em>Launch configuration</em> select <strong>ColorSlider - Aaaaaa</strong> (where <strong>Aaaaaa</strong> is your project),</li><li>In <em>Export destination</em> enter <strong>Aaaaaa/src/main/java/jtm/activity16/color-slider.jar</strong> (where <strong>Aaaaaa</strong> is your project)</li><li>In <em>Library handling</em> select <strong>Package required libraries into generated JAR</strong></li><li>Press <strong>Finish</strong>,</li><li>If errors/warnings are reported, press <strong>OK</strong> (you may ignore warnings, but have to fix errors).</li></ol></li><li><div><p>Open terminal and check, execution of jar file from command line:</p><div class="box"><div class="code">cd ~/Aaaaaa/src/main/java/jtm/activity16/<br>java -jar color-slider.jar </div></div></div></li><li>Check that tests in <strong>ColorSliderTestSuite</strong> test suite are passing.</li></ol><h2 id="HMakejarfilesmaller" class="wikigeneratedid"><span>Make jar file smaller</span></h2><p>When done as simple export in Eclipse, jar file contains all libraries listed as project dependencies included, which are not necessary just for Swing application. You can make *.jar file much smaller by including only required libraries.</p><ol><li><div><p>Install ant building system:</p><div class="box"><div class="code">sudo apt install ant</div></div></div></li><li>Right click on <strong>ColoSlider.java</strong> file in Package explorer, and select <strong>Export...</strong></li><li>Select <strong>Java — Runnable JAR file</strong>, and press <strong>Next</strong>,<ol><li>In <em>Export destination</em> enter <strong>Aaaaaa/src/main/java/jtm/activity16/color-slider.jar</strong> (where <strong>Aaaaaa</strong> is your project)</li><li>In <em>Library handling</em> select <strong>Package required libraries into generated JAR</strong></li><li>Also select <strong>Save as ANT script</strong> and set some location of it (e.g. <strong>export.xml</strong> in your project) and finish export.</li></ol></li><li><div><p>Open <strong>export.xml</strong> file and delete all <span class="wikimodel-verbatim">zipfileset dir=&quot;...</span> like entries, except:</p><div class="box"><div class="code">&lt;zipfileset dir=&quot;/home/student/.m2/repository/com/miglayout/miglayout/3.5.5&quot; includes=&quot;miglayout-3.5.5.jar&quot;/&gt;</div></div><div class="box warningmessage"><p>Do not delete <span class="wikimodel-verbatim">&lt;fileset dir=&quot;${dir.buildfile}/target/classes&quot;/&gt;</span> entry, which is easy to lose between <span class="wikimodel-verbatim">zipfileset dir=&quot;...</span> entries!</p></div></div></li><li>Right click on <strong>export.xml</strong> and select <strong>Run as — Ant build</strong>.</li><li>Check that now <strong>color-slider.jar</strong> is few hundred kilobytes in size.</li></ol><div class="box infomessage"><p>You can use design of <strong>ColorSliderTest.java</strong> class as a template for GUI test for your teamwork project.</p></div><p><em>More info</em></p><ul><li><span class="wikiexternallink"><a href="https://docs.oracle.com/javase/tutorial/uiswing/components/slider.html">How to use sliders</a></span></li><li><span class="wikiexternallink"><a href="http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.wb.doc.user%2Fhtml%2Findex.html">WindowBuilder User Guide</a></span></li><li><span class="wikiexternallink"><a href="http://joel-costigliola.github.io/assertj/index.html">AssertJ — Fluent assertions for java</a></span></li></ul><br>  </body></html></body></html>